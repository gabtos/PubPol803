"0",""
"0","year_i <- 2017"
"0",""
"0","top_10_spend_2020 <- parkdata %>%"
"0","  dplyr::select(city, year, spend_per_resident_data) %>%"
"0","  filter(year == year_i) %>%"
"0","  arrange(desc(spend_per_resident_data)) %>%"
"0","  slice(1:10)"
"0",""
"0","bottom_10_spend_2020 <- parkdata %>%"
"0","  dplyr::select(city, year, spend_per_resident_data) %>%"
"0","  filter(year == year_i) %>%"
"0","  arrange(spend_per_resident_data) %>%"
"0","  slice(1:10)"
"0",""
"0",""
"0","# indiana_df <- parkdata %>% "
"0","#   select(city, year, spend_per_resident_data) %>% "
"0","#   filter(city==""Indianapolis"", year==year_i)"
"0",""
"0","combine_top_and_bottom <- bind_rows(top_10_spend_2020, bottom_10_spend_2020)"
"0","# combine_top_and_bottom <- bind_rows(combine_top_and_bottom, indiana_df)"
"0",""
"0",""
"0","# top_10_spend_2020$city <- factor(top_10_spend_2020$city)"
"0","# Calculate a position for the labels"
"0","# max_spend <- max(top_10_spend_2020$spend_per_resident_data)"
"0","max_spend <- max(combine_top_and_bottom$spend_per_resident_data)"
"0",""
"0","ggplot(combine_top_and_bottom, aes(x = fct_rev(fct_reorder(city, spend_per_resident_data)), "
"0","                                     y = spend_per_resident_data, "
"0","                                     fill = ifelse(city == ""Indianapolis"", ""Indianapolis"", ""Other""))) + "
"0","  geom_col(alpha = 0.85) +  # Use the fill mapping from aes()"
"0","  scale_fill_manual(values = c(""Indianapolis"" = ""orange"", ""Other"" = ""gray"")) +  # Set colors"
"0","  labs(title = ""Cities with the Least and Most Park Spending in 2017"", "
"0","       subtitle = ""Spend per Resident by City"", "
"0","       x = ""City"", "
"0","       y = ""Spend Per Resident (USD)"") + "
"0","  theme_minimal() + "
"0","  ylim(0, 300) + "
"0","  theme(legend.position = 'none', "
"0","        plot.title = element_text(face = ""bold"", margin = margin(t = 10)), "
"0","        plot.subtitle = element_text(margin = margin(b = 20)), "
"0","        axis.title.y = element_text(face = ""bold"", angle = 0, hjust = 0, vjust = 0.5, margin = margin(l = 10, r = 10)), "
"0","        axis.title.x = element_text(face = ""bold"", margin = margin(t = 10, b = 10))) + "
"0","  coord_flip() + "
"0","  geom_text(aes(y = max_spend - 269,  # Fixed y position for all labels"
"0","                label = paste0(""$"", format(spend_per_resident_data, big.mark = "",""))), "
"0","            color = ""black"",  # Change text color as needed"
"0","            size = 3,"
"0","            fontface = ""bold"")"
